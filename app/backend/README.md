# Веб-сервер FastAPI

# Описание

Сервис предоставляет endpoint /upload для загрузки изображения и его обработки в нейросетевой модели.

# HTTP API

Страница Swagger динамической документации : http://87.242.103.104:7006/docs

Endpoint-ы (ручки):

` / - возвращает несколько полей статистики: имя сервиса, версию, время работы.`

` /upload - отправляет фотографию на обработку нейросетью`

` /run_neuro - запускает анализ фото нейросетью`

` /config - работает только в среде TEST (env_mode в конфиге). Возвращает экземпляр использующихся настроек.`

# Особенности

- API особенности (main.py)

    - Middleware - это предобработчик запросов. Считает время и логирует запросы.

    - Свой обработчик 404 ошибки - выводит путь HTTP запроса и сам метод

- Logger (utils.py) - логгер loguru со своими настройками

- Настройки приложения (settings_model.py)

    - Хранятся и валидируются в модели pydantic

    - Настройки по умолчанию заданы в самой модели, поэтому в конфигах можно пропускать поля

- Config (config.py)

    - Модуль парсит TOML конфиг, валидирует его и получает версию приложения.
      Возвращает экземпляр настроек Settings с помощью кэшируемой функции get_settings()

# Пользовательский интерфейс

Имеет очень простой интерфейс (времени не хватает), позволяет загрузить картинку на сервер и передать ее в модель
